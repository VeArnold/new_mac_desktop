# Automatically generated on 2021-02-15 UTC from https://codemagic.io/app/602a9133ede2fe1e69c5f5ee/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  default-workflow:
    name: Default Workflow
    max_build_duration: 60
    environment:
      vars:
        APPLE_ID: arnold@nevercode.io
        APPLE_PASSWORD: Encrypted(Z0FBQUFBQmdMVE9BeEh2N0F6UjY4VWE5TTFLZngtRnFKZ0s5MjM0SE8zUHlMT09pcjFxaWVHcGdHcWpaclNoWG5FQUQ2MjA1VVlmMC0xSUlJV25yVFJWOUdQZjdlMTQ4cGhMcndHM0tCUEJVSE9vamtvMXZpVG89)
        APP_STORE_CONNECT_ISSUER_ID: 7d812fe2-8abd-47ca-9d27-3ed7e62d7b6d
        APP_STORE_CONNECT_KEY_IDENTIFIER: TY6Z3SLR3Z
        APP_STORE_CONNECT_PRIVATE_KEY: Encrypted(Z0FBQUFBQmdMVFpiNVBQSU1mNkpXUy1EVzRvNlRCWjNLZjZ2QUdLNXNKQ0pMZ2RGUkZoX3ZXMFVmWVM1MFgzbVdkY1lDRHNUaFRHT3BsY0xOTXRyTnU0S2Q5VURHZ3BCbklVT1VoRU5QRjRtNTljd01rTExNNUMzdUE0azhBUk5IaUppejlrVmZ1WXM5QXU3Z3p5R2VER0pfLTI0NDhhR051Z19NdjR3aDQ2Zm5RZXRRMU5ucGxJVWY5Sjh5dkZsZU1XUTVsenVBZGFqLXpWU3ZqTWMwdTl2RkZxTG9aYXhNYWt1YTFOYy1XVnd4bW16X2FmbHIxbDAzXzV6czJsdldEeHZ5UUFoaXhlRl80QVJ6SDE4d0RiY2JMZmkzSEJrZEt1S1AyMTRIb0E4cTFZUXJTMFZUdFFFX0o4WG9zQ3RVRm5mOGQ1YmJvcG9UT0RVZnl3amZWRC1mME5GcmhuV3FXeWNveGhibC12cC11WE9lWmhjZzFxcGRKaW9mRk1nc2FMM0RCRjlvUWVwUzdPQlc3Njg2NFo4a3M0ZVNyQUtnRjkwMGFTSWRUeXlVOVBOcU5KZ3dscjNNM3g4dm8zUW1Nd3NUbDBLOGc1V003VzdzRnM2QTB1N0dZZnp4bmtaVnBSb2hackxDNmxkSHU5dk9LcFM3akF2anBDV0RoQktoaWI2Ml9NUjQ4LWNBU3ZlWGljalh4akIwcmZXOEEtNVh2OE5QVUpRVjdoSVlVR3ZJWTl6akhDYkdXNGFXTzNxdG5uV2xkRnRuNFhITHJjYWhwanc2Q0hCSGlHTlY0eEp3OVpCRjZKUWV2WGNaUm1IeWM1NmRCeTI3cEl3YzI3Q0RKQWNUVzNvUW5feHBCVFJoeGxidHQwQUJsbDR6dnJuVmR4dVZHbllCeWJoVnRuek42QjRDU2ttQTNkUk5kbVVQTHhOV01vY056Y21VSlQ5c0w4TDhPOFJIenNubGJJaGZwQzI1NUtUenJKbkFUZVFjR1RNa1NwamNDenZjaVFnWUx2eTQxNWIxRFE5aUxyWkVFLTJlSUNPbFpzNjQ3bjZFUWZPZXNJbDFYS3VjMm9YT2F0SFkwdENFTXgwUXpjck1seEtUMGFLNmJCS0x0MWxESG9QNkJQcWFEeUdjU0E1WUw5LTdla0RieHRQY2p1N2V4cXMxeGJWNkFGUGxETDkyRXhQYVNLUVNNN29lQjlBWXpOUjFac0hEdXBtNGxsQkJQTldPSU4xVHozakVmOE5oZUVDVWJ0RjFyV2VmaUhOa0tkVE1xN0xsZVJzVy12dzdkajc0N2FuY0djX2JTdHQ5aEZSUjJ1U2Fld1lYblZmUWhNVU41allERVcwTElhdmhSTkI2TXlTS3Q1NDFpODlJOWY2ZHlnS3d3azI0WlR5ZjliTXEwZTNsVmxoZkRyOXIwQlBodnhWMXN2ZWFPZEpMamtNMTloM05JZWtpMk9EYlVTRGUtTTA1NkUzUVRValZVZEJRM0NJSUU4R0ROa2ZseDd3MmNNTmZYVmQ0cGdXcmdzd2tsZmFoVGVfWVBXRGt2MmQ4QXJmRXRYVm5HRVBEWEx2aV9Pem5EWkpiSVdmbklKZGV4WWUxdFJZc2RMRGtJODduNXJELUlaTHNZejBJVFJNeksycWZteTk4TVNWU0MzTEthd0pET3dZRmtmQ0ItbjZncS1xM01aMEFvMWdQT1pVaWdVOWM4Tk1NR3E3cXZJNHFSZnF2OVc0ajBuRUV1aVYxcjBEcGVjQ2xUb29WYjdjR0hsOUlDT0hTa1k2VHpjRmdsZW9ONG5LNm1HcnBTcUxvMDVsV1hhTG9TMzYtbThuZThRTkhOMmpqbElBVzdGMjB1WUsyVV9vcHh5OWtOcHQ4MDN4bGVOcjMtY2xxVDRNTk82cU5sQldqZ1k5dmFwT1RHR1A1N3VZbjZtYmJoUmhyUndMY2d0eDJEZlRKQ3MwR2liZzJCbHd3bF8ySU9HVDNVX3l0YmlqRllnT29GckhselpVdWdzb2l1N3hXRDlvNEVBbXZldTl4QjE3UGhKaVpZU19heXBfdVVya2xDelE3X0VUdlZ0MmFYWllNSGEydXhZQzg5cFZHZjRfQ2xkUElRMTdNZG9nWng4a0VXX0M1X051TlZtVlNwaVFUcEk1X1BxQlhmbjVLTlFLeVg4NWw0RVVlSEpDUEhwQ1ZiUnZiSUlUbFVqNEt6cTFpRU5BcEUteWIyTUg3YzV2VWtPSzZJQWotbEhLRnVCZGowbVloaWg4SnJ4eWhqWlNSNXZOQmV3bkdJS3E2bTMzVWZzS29GSGFROGpseWhrTjNnWmtzdTZEQjNORlJfZEJYeUVVQUxrNHU0UnBsdjM2dDhPY2d0cVpsY2w1MEVOUzAzSTd1MnIxUEpIR3NyZmlmOWdjdktoVXhaU1pBblFaX0pvc2lPSjFEUG9zYlVubk1yRXBGZlh3QWNOX2lrbHhwdnhXSDlHbnBpRVRBSzhCcFZra1pxUXpLTHIzYXVKaDIzdWhDTm9FVlg1QWxydkx5NmgzV2NST1pNejZBREZEek5SVkh1aEx0bGVralFNMkFRNHAydlhMN0tCclVldDZSQmVReHkzQnVfSWxYYTFmdDdPdUhvcVhxMkJLY1dqRDZ3YUdrY080bVdpUm91WFZ3YmFSYnp3emp6Rk1ORldodkt6WW81VDJiQ0x4b1hyMU9KdGZ5dEFYZGxVNnZtckFDYi1mdnZTZmVCQU0wUGdXVWN5RXoxYmxWOU5naDZOUy1XQW11ekp1c1hvVktLU0JqdEpzVTFOajlwOWJoSm5zaXhzNWlfbFdsdWFMbGRBa2dpN09sVVpNakhhSmdaTFJfU191Wk9KWmRQWi1ZckJrMGFMcnFSRklMTVMzWUNzeWtyY2d1MUd5eVdORm5aZ3ZrTDlJcG9ndkpESFUyakEtOThtV05Fc1U0UmM1Q3pRbTduM0hHZW9YTUVwZUtjTlhBalpjYTdkdXBTX0lVeDZwNG1lMTlQUEFYb2NfdGMtRHhmUDg3a3pIa1B6Q3VWVjdKTXB2OE9LVVJPakdDeEFUaXJBNkg5NU1RdDh6aXpVZjlEZ1RVWGYxaHM2eXNDZC0tWnNfbGt6SS1lc2Y3ME82TTRFTk5HYy1hS053NUlXMHA3NGNDUW02eUN0akJKbXUtdXJkZVpzb2kyVTBqNnN6dHRYNm1tZ0hIUm85OEJKR3VuUE1LSTJfSkVYZnVELXdmZ2NPcEhOS2huYkNQeUNqRTA4TGRBaE04N290MkNjZjVZX2QyX0gyc083VUJySHEzZm9JU3JRbDQ4czBoT1dCNGVXNmN3b1pJUmpoS3EzZ0o5OUh5U2xFb19TcHBVWnVxVy1iNUFya3l0X2o3M1ZuYVZDMno4TUNpNW9maDA0N3RLWXhHb0NjVUlFQWd3N0dIUTFuQ3ZjSnJCWHJqTldGQWdIRTJBMVQySWJfUHVBRlg4eDB5ZVRTekpBS0J4OGphbnJmeE50Vk9CRC1BekZwVlVpd19YaFpiODRiaThuVkRpbVNzNWxrSElFdVpXUFNIaVREWnRnPQ==)
        CERTIFICATE_PRIVATE_KEY: Encrypted(Z0FBQUFBQmdMVFhvcHVUUk92MXB1RXg0V2IwQURrNE5INkRIdWZtTUhrMUlLd2hiQkNpWnZZRmxqUHlSSUlYQzBldUxRMUJqX3lFYmVhOTMxNk91d2lFbnRyWWYyS0lkRlVQVTJOY0tsLVR2NUhULWlLd05WemNqR29YRmNzUkltZ0hQTTIyMUhzLVdZSElTcVdpVmhWcUNPQjVkUmpfMEVqVm5iU2xRWEJBWUxyajFOSFlkMDc3ZUNkZ3ZsMlZMTS1sMkJUR1dNczFCLU9hY1I4bENSQzVZMGZkcHNwM3dkdWpaRUxkME1tU0NmZHJfSDc3eGg5bGIxRy16RzdRSDhtbDNxSDlRelMwc1REaTJSOUIyb1dkZWRDODVNZmg0OG1sSDV2NGRpVHpHbGNibjhqYXA1bWdCUDhXcl9mNGhDaEZHZ0xOV0FQTXU3cjFwX1BhdWpYV25DakJ5OWxpREJGVWY0Xy1TdF9TY21ZeUd2WTRUcjREdlRLOGZYTTZXT3ZwR09qekMtS252LVdCVzFseDdFVDYtMk5fNGlTb2M4UmNVZzM1ODhjT0RTRG54YzRIMnc5VGlyRnI1aDhncXRLYmI1SUZoYmpFUnZCQUdFV0pmMWxGRjlSMHVSNTY3OXMtMFZON2k4WTQ4RGlxUE1fNVc4MzREQUk5aEdOZWZHX0NoakZWYUY5MkIySFpFcTBOejNVZE1nRkhnLXVTOTFwQm5sSWJoNlk5QnNBZm5MaHNSYkN6dGlHTFlfbW1jTGZlMXZzM2QzU3VmdFR2REhiQkQ0MDZ3aFJFWjR6M0dKQWRsWHZ2Q0V2a3REdHRVQlVJUnRaMnE0c0ExdkppeVZpa0dKNzZNTjRJcl9STUtQRk1laVYycUY1YTlJeGphRnNkaGxSMmRQZzJuSWlrWjFOM3ptYVJtNWdtS3VNM1QxeFdqY0xKa0FaU2JkbjN2WTlBUkZRZG9RRFQwbWRMNUZuUldBSXNjLWsyTTZWNjVYTHBvQ1hHZ3E0bmNfaC1TaDRYelpsbWd2YU5sdnVRVE14MnlMNTFYVGUzZkdYUEZPZnJTdEJpQkRlN3VxRFh1SnhqZ0dZRnozUjdyTkFnX0tndFlxcEVQVUJ1TUNrUkhmT2RtRF81aXNFN1BLNlJicUNQN3JDdTdTTzhOX1RtTTFLQ21NNkpGVTZsZ21idjlsbFRMNkhjWmFlYVotQUlQSEx5b0lxX0JSaFl1aTMwWGozbm95QkdMUENTeUc4enE2N2Ezd3pkcWNqLUJmaGV1WlRqSjZ2QmpudXJDcmpkUFVoWGI3SG51TmhBcHd4S0ltT2g4cXN2N2pKZ0lPUkJtZWJPVTZEQVZ2ZmRXRVhKU1F6OEhiaW1FYnV3TnpTUW5Bb2kxZFBZWTNKT0ZhVXFDM3dJZ1JUelRfenpYM3hCNTA0MHlKUmFWeWp2MmFhQ3Njcnl2cGhCV1VWRngtbk9Ga3BKQXNLVTBPWkczLW1lSGtKUUkwZDVQQS1ydVNRNmNOXzJTY0poTlBpeEJodWFveU1hVDVOSFNyVC1zTGRyd2lDMlZOSHhIdXdKX09ha2JyTlIzMmRLMGdsZklSSGZsTE5vOFV5SHY2aFFhblZOaVZvNFpueFZjNVR4OW9oRHJMa2NXUWpDTnhXVTFXTHYwT3ZvU25qQWxHZGNJaWkxODBfSS1aX0xiNk9wVzBpaG96b1RxNFN2cnd1WlVxMTE1MmQzdmNDVFlzeVp2VlFlc2R0WGxNUXZhOFhtRnVKZEdUcVFBbXB0bjRESkI3dENLdk9yYl9ieTJwbjRyblR3YTVUUUE4eVQ2Y19qbnZHRUxtQ0F6Mk4zblc0dXJZbjdJX3dVZ3R6T2dsZHpYbXJwaUxfTW1oYWFWVnA3RnJvRDR4M3pUSG5yUnBKUjVhRE1aQ2gyMnMtdklHRE9wVUI3eGx3aGRBNEhUS3MzVE10WDBMcnNvZkJnOGZZUm1CNlFOdVI2cDhibG0zT2Y5ZGh4WmMwMXBYZkF5NEs2VFJWM2NFSm9RMkw3eXo3bGFTSkVBVGF1VUdJZ1dHWjV3eXVEYWhaU0RRVHVWU0RLZmJNWEZOVzJnb3dOQzdQNzR3WUY2cjZKV1RxclIxeEJKdUdCQlZFSEVqcmhHTEtqcFltMjU2cVNLc2p5ZUhBb3EtdlhjQzJON3ZtdzJfMjdNNmNrdkNLMG9NODFjcmVMR1FMaTI3ZkFWRW9yV05VcXcxREhuZTMxR3VkemxjVGxwckV1b2pkRnlzb3g0eUE1WlFIRW9ZUm1xdFJQbE10VVAwRXhHU3BnNk1zelVVNUJ2U3pkME9weUNydjh4NEtDS21tazVOSDAyTGpULUs0RDQzQWVOUUpTNTZla3MteWlxWkxHN0pTSThfNURvTm45NlNQTmlyY191Z0xUOGRKWlljbElnUU8wczdmWkU2cmFjVldmRVpqYk9HXzN0cEpyemFqakFQYnZEZWFORTlZN1ZIS2dlbF93WkZVTzZqR0tYOXBXaVk4UTZSdlZ1X2VpQzAzWUgzYklJVHljMUY4cHB3WkxFUmdxeURmVlg3dGp2dVFlZXRQQ1ZUeWUycmZlRUVTTjNTTUhFWmRkZjMzYlRVbFlDVnVRdmgwd1dwTG9nVjFFc1gtelFpZ3FtMUExODJtYjJ0V1VXU2s5ejRiSlJNeEQwRTRNUHlHUlJEYkJBRE5TbkJtTGNXUFh4UUVkVVltdXJzUG9VWVdGWG5tYWhsRmdXTjQtUzBTS3lZRFNpR3A0a084R0JWaGxlU0Q0eHRSUHNTNURJbEVSNUpGdGp2dnBmY2VNUmd2aVhSRGNVU3hRejVKczY4VlZabnJiU2Zjd0Y5WXd2bktCNE5Kc2l6UmpKeUxMVklIYVUtdXRWX0sxSzhUcDM4T3NDdkJnRkZLMS10eGJONzRURG43Um8xMTFKZE1odnQtbDlMTU1Eb2xfV1B6Qy1pUm95YWJQRzA5ZlZ6a1BpWmxmNEMydVdPSGRyaUotWDZoUFFaRzZ2czRnRHJobGlYdVVoU0FsQkpaai1wSzc1TThkdHB1MnZ0M29yTVFGdUhERVdpczBT)
      flutter: dev
      xcode: latest
      cocoapods: default
    scripts:
      - flutter packages pub get
      - |
        #!/usr/bin/env bash

        keychain initialize
        app-store-connect fetch-signing-files "com.codemagic.newMacDesktop" --type IOS_APP_STORE --create

        flutter config --enable-macos-desktop
        flutter build macos --release --build-name=1.0.0 --build-number=$BUILD_NUMBER
        chmod +x sign_and_publish.sh

        ./sign_and_publish.sh
    artifacts:
      - flutter_drive.log
      - build/macos/Build/Products/Release/*.app
